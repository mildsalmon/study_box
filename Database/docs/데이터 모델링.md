# Table of Contents

- [0. 데이터베이스 설계 단계](#0-데이터베이스-설계-단계)
    - [A. 데이터베이스 설계](#a-데이터베이스-설계)
    - [B. E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정](#b-e-r-모델과-릴레이션-변환-규칙을-이용한-설계의-과정)
- [1. 데이터 모델링과 데이터 모델의 개념](#1-데이터-모델링과-데이터-모델의-개념)
    - [A. 데이터 모델링 (data modeling)](#a-데이터-모델링-data-modeling)
    - [B. 2단계 데이터 모델링](#b-2단계-데이터-모델링)
    - [C. 데이터 모델 (data model)](#c-데이터-모델-data-model)
- [2. 개체-관계 모델](#2-개체-관계-모델)
    - [A. 개체-관계 모델 (E-R model, Entity-Relationship model)](#a-개체-관계-모델-e-r-model-entity-relationship-model)
    - [B. 개체-관계 다이어그램 (E-R diagram)](#b-개체-관계-다이어그램-e-r-diagram)
    - [C. 개체 (entity)](#c-개체-entity)
    - [D. 속성 (attribute)](#d-속성-attribute)
    - [E. 개체 타입 (entity type)](#e-개체-타입-entity-type)
    - [F. 개체 인스턴스 (entity instance)](#f-개체-인스턴스-entity-instance)
    - [G. 개체 집합 (entity set)](#g-개체-집합-entity-set)
    - [H. 속성의 분류](#h-속성의-분류)

---

# 0. 데이터베이스 설계 단계

## A. 데이터베이스 설계

- 사용자의 다양한 요구사항을 고려하여 데이터베이스를 생성하는 과정
- E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정

![](/bin/db_image/db_4_1.png)

## B. E-R 모델과 릴레이션 변환 규칙을 이용한 설계의 과정

![](/bin/db_image/db_4_2.png)

# 1. 데이터 모델링과 데이터 모델의 개념

## A. 데이터 모델링 (data modeling)

- **현실 세계에 존재하는 데이터**를 컴퓨터 세계의 **데이터베이스로 옮기는 변환 과정**
- 데이터베이스 설계의 핵심 과정

![](/bin/db_image/db_4_3.png)

## B. 2단계 데이터 모델링

![](/bin/db_image/db_4_4.png)

### a. 개념적 데이터 모델링 (conceptual modeling)

- 현실 세계의 중요 데이터를 추출하여 개념 세계로 옮기는 작업

### b. 논리적 데이터 모델링 (logical modeling)

- 개념 세계의 데이터를 데이터베이스에 저장하는 구조로 표현하는 작업

## C. 데이터 모델 (data model)

- 데이터 모델링의 결과물을 표현하는 도구
- 개념적 데이터 모델
	- 사람의 머리로 이해할 수 있도록 현실 세계를 개념적 모델링하여 데이터베이스의 **개념적 구조로 표현**하는 도구
		```ad-example

		개체-관계 모델
	
		```
- 논리적 데이터 모델
	- 개념적 구조를 논리적 모델링하여 **데이터베이스의 논리적 구조로 표현하는 도구**
		```ad-example

		관계 데이터 모델

		```

# 2. 개체-관계 모델

## A. 개체-관계 모델 (E-R model, Entity-Relationship model)

- 피터 첸(Peter Chen)이 제안한 **개념적 데이터 모델**
- **개체와 개체 간의 관계**를 이용해 현실 세계를 개념적 구조로 표현
- 핵심 요소
	- **개체**, **속성**, **관계**

![](/bin/db_image/db_4_5.png)

## B. 개체-관계 다이어그램 (E-R diagram)

- **E-R 다이어그램**
- 개체-관계 모델을 이용해 현실 세계를 개념적으로 모델링한 결과물을 **그림으로 표현**한 것

![](/bin/db_image/db_4_6.png)

---

- 사각형
	- 개체를 표현
- 마름모
	- 관계를 표현
- 타원
	- 속성을 표현
- 링크(연결선)
	- 각 요소를 연결
- 레이블
	- 일대일, 일대다, 다대다 관계

![](/bin/db_image/db_4_7.png)

## C. 개체 (entity)

- 현실 세계에서 조직을 운영하는 데 꼭 필요한 **사람이나 사물과 같이 구별되는 모든 것**
- 저장할 가치가 있는 중요 데이터를 가지고 있는 사람이나 사물, 개념, 사건 등
- 다른 개체와 구별되는 이름을 가지고 있고, 각 **개체만의 고유한 특성**이나 상태, 즉 속성을 하나 이상 가지고 있음
	```ad-example

	- 서점에 필요한 개체
		- 고객, 책
	- 학교에 필요한 개체
		- 학과, 과목

	```
- 파일 구조의 레코드(record)와 대응됨

---

- E-R 다이어그램에서 **사각형**으로 표현하고 사각형 안에 이름을 표기

![](/bin/db_image/db_4_8.png)

## D. 속성 (attribute)

- **개체**나 **관계**가 가지고 있는 **고유의 특성**
- 의미 있는 데이터의 가장 작은 논리적 단위
- 파일 구조의 필드(field)와 대응됨
- E-R 다이어그램에서 **타원**으로 표현하고 타원 안에 이름을 표기

![](/bin/db_image/db_4_9.png)

## E. 개체 타입 (entity type)

- 개체를 **고유의 이름과 속성들로 정의**한 것
- 파일 구조의 레코드 타입(record type)에 대응됨

```ad-example

고객 ID, 고객명

```

## F. 개체 인스턴스 (entity instance)

- 개체를 구성하고 있는 속성이 **실제 값을 가짐으로써 실체화된 개체**
- 개체 어커런스 (entity occurrence)라고도 함
- 파일 구조의 레코드 인스턴스 (record instance)에 대응됨

```ad-example

고객 ID = A101
고객명 = 홍길동

```

## G. 개체 집합 (entity set)

- 특정 개체 타입에 대한 개체 인스턴스들을 모아놓은 것

## H. 속성의 분류

![](/bin/db_image/db_4_10.png)

```ad-example

- 단일 값 속성
	- 이름
- 다중 값 속성
	- 전화번호 (집 전화, 휴대폰)
- 단순 속성
	- 고객 ID
- 복합 속성
	- 생년 월일 (생년, 월, 일)
- 유도 속성
	- 다른 속성에 의해 유도된 값
	- 주민등록 번호를 통해 나이를 유도
	
```

### a. 단일 값 속성과 다중 값 속성

- 단일 값 속성 (single-valued attribute)
	- 값을 하나만 가질 수 있는 속성
		```ad-example

		고객 개체의 이름, 적립금 속성

		```
- 다중 값 속성 (multi-valued attribute)
	- 값을 여러 개 가질 수 있는 속성
		```ad-example

		고객 개체의 연락처 속성, 책 개체의 저자 속성

		```
	- E-R 다이어그램에서 **이중 타원**으로 표현

![](/bin/db_image/db_4_12.png)

### b. 단순 속성과 복합 속성

- 단순 속성 (simple attribute)
	- 의미를 더는 분해할 수 없는 속성
		```ad-example

		고객 개체의 적립금 속성, 책 개체의 이름, ISBN, 가격 속성

		```
- 복합 속성 (composite attribute)
	- 의미를 분해할 수 있는 속성
		```ad-example

		- 고객 개체의 주소 속성
			- 도, 시, 동, 우편번호 등으로 의미를 세분화할 수 있음
		- 고객 개체의 생년월일 속성
			- 연, 월, 일로 의미를 세분화할 수 있음
		
		```

![](/bin/db_image/db_4_13.png)

### c. 유도 속성 (derived attribute)

- 기존의 다른 속성의 값에서 유도되어 결정되는 속성
- 값이 별도로 저장되지 않음
	```ad-example

	- 책 개체의 가격과 할인율 속성으로 계산되는 판매가격 속성
	- 고객 개체의 출생연도 속성으로 계산되는 나이 속성

	```
- E-R 다이어그램에서 **점선 타원**으로 표현

![](/bin/db_image/db_4_14.png)

### d. 널 속성 (null attribute)

- 널 값이 허용되는 속성

#### ㄱ. 널(null) 값

- 아직 결정되지 않거나 모르는 값 또는 존재하지 않는 값
- 공백이나 0과는 의미가 다름
	```ad-example

	등급 속성이 널 값 -> 등급이 아직 결정되지 않았음을 의미

	```

### e. 키 속성 (key attribute)

- 각 개체 **인스턴스를 식별**하는 데 사용되는 속성
- 모든 개체 인스턴스의 키 속성 값이 다름
- 둘 이상의 속성들로 구성되기도 함
	```ad-example

	고객 개체의 고객아이디 속성

	```
- E-R 다이어그램에서 **밑줄**로 표현

![](/bin/db_image/db_4_15.png)

## I. 관계 (relationship)

- **개체와 개체가 맺고 있는 의미 있는 연관성**
- 개체 집합들 사이의 대응 관계, 즉 **매핑**(mapping)을 의미
	```ad-example

	- 고객 개체와 책 개체 간의 구매 관계
		- 고객은 책을 구매한다.

	```
- E-R 다이어그램에서 **마름모**로 표현

![](/bin/db_image/db_4_16.png)

### a. 관계의 유형

#### ㄱ. 관계에 참여하는 개체 타입의 수 기준

- 이항 관계
	- 개체 타입 두 개가 맺는 관계
- 삼항 관계
	- 개체 타입 세 개가 맺는 관계
- 순환 관계
	- 개체 타입 하나가 자기 자신과 맺는 관계

#### ㄴ. 매핑 카디널리티 기준

- 일대일(1:1) 관계
- 일대다(1:n) 관계
- 다대다(n:m) 관계

##### 1) 매핑 카디널리티 (mapping cardinality)

- 관계를 맺는 두 개체 집합에서, **각 개체 인스턴스가 연관성을 맺고 있는 상대 개체 집합의 인스턴스 개수**

##### 2) 일대일(1:1) 관계

- 개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 **하나**와 관계를 맺을 수 있고, 개체 B의 각 개체 인스턴스도 개체 A의 개체 인스턴스 **하나**와 관계를 맺을 수 있음

![](/bin/db_image/db_4_17.png)

##### 3) 일대다(1:n) 관계

- 개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 **여러 개**와 관계를 맺을 수 있지만, 개체 B의 각 개체 인스턴스는 개체 A의 개체 인스턴스 **하나**와 관계를 맺을 수 있음.

![](/bin/db_image/db_4_18.png)

##### 4) 다대다(n:m) 관계

- 개체 A의 각 개체 인스턴스가 개체 B의 개체 인스턴스 **여러 개**와 관계를 맺을 수 있고, 개체 B의 각 개체 인스턴스도 개체 A의 개체 인스턴스 **여러 개**와 관계를 맺을 수 있음

![](/bin/db_image/db_4_19.png)

#### ㄷ. 관계의 참여 특성

##### 1) 필수적 참여 (전체 참여)

- **모든 개체 인스턴스가 관계에 반드시 참여**해야 하는 것을 의미
	```ad-example

	- 고객 개체가 책 개체와의 구매 관계에 필수적으로 참여
		- 모든 고객은 책을 반드시 구매해야 함

	```
- E-R 다이어그램에서 **이중선**으로 표현

##### 2) 선택적 참여 (부분 참여)

- **개체 인스턴스 중 일부만 관계에 참여**해도 되는 것을 의미
	```ad-example

	- 책 개체가 고객 개체와의 구매 관계에 선택적으로 참여
		- 고객이 구매하지 않은 책이 존재할 수 있음

	```

![](/bin/db_image/db_4_20.png)

### b. 관계의 종속성

- 약한 개체 (weak entity)
	- 다른 개체의 존재 여부에 **의존적인 개체**
- 오너 개체 (owner entity)
	- 다른 개체의 존재 여부를 결정하는 개체
- 오너 개체와 약한 개체는 일반적으로 **일대다의 관계**를 가지고, **약한 개체는 오너 개체와의 관계에 필수적으로 참여**하는 특징이 있음
- **약한 개체는 오너 개체의 키를 포함하여 키를 구성**하는 특징이 있음
- E-R 다이어그램에서 약한 개체는 **이중 사각형**으로 표현하고 약한 개체가 오너 개체와 맺는 관계는 **이중 마름모**로 표현

```ad-example

- 직원 개체와 부양가족 개체 사이의 부양 관계
	- 직원 개체는 오너 개체, 부양가족 개체는 약한 개체

```

![](/bin/db_image/db_4_21.png)
