# Table of Contents

- [1. TCP](#1-tcp)
  - [A. 연결기반 전송 계층](#a-연결기반-전송-계층)
  - [B. 연결에 대한 관리](#b-연결에-대한-관리)
  - [C. 데이터 순서를 보장한다. (신뢰성을 제공한다. / Reliable network (reliable community))](#c-데이터-순서를-보장한다-신뢰성을-제공한다--reliable-network-reliable-community)
  - [D. 혼잡에 민감하게 패킷전송률을 조정한다.](#d-혼잡에-민감하게-패킷전송률을-조정한다)
  - [E. 전송단위](#e-전송단위)
  - [F. 내용 변조 탐지](#f-내용-변조-탐지)
  - [G. 포트(사서함)개념 지원](#g-포트사서함개념-지원)
- [2. 계층적으로 생각해보면.](#2-계층적으로-생각해보면)
- [3. [[TCP 세그먼트 내 헤더 구성]]](#3-tcp-세그먼트-내-헤더-구성)

---

# 1. TCP

> connection oriented (연결 지향)

> 신뢰도가 중요한 [[Application Layer]](https://github.com/mildsalmon/Study/blob/Network/Network/docs/Application%20Layer.md)에 사용한다.

![](/bin/Network_image/network_2_6.png)

## A. 연결기반 전송 계층

- 두개의 프로세스들을 연결하고나서 통신한다.

## B. 연결에 대한 관리

- 데이터 유실을 복구한다.
	- 중간에 스위치가 죽거나, 잡음으로 인해 데이터가 깨지는 등의 이유로 데이터 유실이 발생한다.
	- 한번 보낸 패킷은 반드시 목적지에 도달한다고 생각 할 수 있다.
		
## C. 데이터 순서를 보장한다. (신뢰성을 제공한다. / Reliable network (reliable community))

- 내용 유실 x
	- 순서를 보장한다.
- 내용상의 이빠짐 x

	![](/bin/Network_image/network_5_13.png)

	- 상대방이 중간에 있는 5번 패킷은 못받고 6번 패킷을 받았다고 하더라도, 6번 패킷을 안받은 것처럼 행동하면, 이빠짐은 없다.
		- 1,2,3,4가 차례대로 오고 네트워크가 끊겼다.라고 전달한다.
	- 순차적인 내용은 다 전달하고, 이빠진 내용 이후는 전달하지 않는다.
		- 연속성을 제공한다.
- 신뢰성은 양 끝단에서 제공한다.

---

- 신뢰성있게 통신을 한다.
- 패킷이 내용의 유실도 없고, 순서가 바뀌지도 않는다.

## D. 혼잡에 민감하게 패킷전송률을 조정한다.

- 패킷이 많이 유실된다면(네트워크가 혼잡하다면), 네트워크가 덜 혼잡해질때까지 패킷을 쌓아놓고 천천히 보낸다.
- 속도가 느림
	- 고의적인 지연이 존재한다.
		- 패킷 수신 순서로 인해 패킷을 수신하였음에도 불구하고 패킷을 수신하였다고 하지 않는 것.
		- 내부적으로 혼잡제어 (Congestion Control)가 존재한다.
			- 네트워크가 혼잡하다면, 패킷을 보낼 수 있어도 기다렸다 보내면서 혼잡 수준을 제어한다.

---

- 네트워크가 혼잡이 심하면, 패킷을 보내지 않고 기다렸다가 패킷을 보내서 혼잡 수준을 낮춤.

## E. 전송단위

- 바이트 (Byte)
	- 패킷이 유실되지 않기 때문에 굳이 전송단위를 기억하지 않는다.
- send() 함수에서 보낸 데이터의 내용과 receive() 함수에서 한번에 받는 데이터 내용 간에 단위 상의 일치 관계가 성립되지 않는다.

	![](/bin/Network_image/network_5_14.png)
	
## F. 내용 변조 탐지

- 잡음, 기계적인 결함으로 내용이 변하는 것, 간섭(interference)
- TCP/UDP에 존재한다.

## G. 포트(사서함)개념 지원

- 응용을 구분한다.
	
# 2. 계층적으로 생각해보면.

양 끝단만 고려함.

![](/bin/Network_image/network_5_16.png)

계층이 내려갈때마다 헤더가 하나씩 붙고, 계층이 올라갈때마다 헤더가 하나씩 제거되면서 원래 내용을 보여준다.

# 3. [[TCP 세그먼트 내 헤더 구성]](http://github.com/mildsalmon/Study/blob/Network/Network/docs/TCP%20%EC%84%B8%EA%B7%B8%EB%A8%BC%ED%8A%B8%20%EB%82%B4%20%ED%97%A4%EB%8D%94%20%EA%B5%AC%EC%84%B1.md)
